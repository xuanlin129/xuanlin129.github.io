import{ag as nt,r as m,c as P,ac as kt,d as I,ap as G,R as Vt,h as Wt,m as it,i as Xt,bh as Dt,k as Ht,C as Yt,v as lt,w as ct,bi as Ft,z as Ut,p as Zt,b as Gt,bj as Kt,n as Jt,U as Qt,a as te,A as ee}from"./index-CjfB3xB6.js";import{T as oe}from"./statusUtils-DMtenkVD.js";import{u as re}from"./row-h5l_F9KW.js";import{g as ne,i as ae}from"./colors-ucWZ7TKV.js";const Pe=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),se=e=>e instanceof nt?e:new nt(e),pt=e=>{const{children:n,prefixCls:o,id:t,classNames:a,styles:s,className:r,style:l}=e;return m.createElement("div",{id:t,className:P(`${o}-container`,a?.container,r),style:{...s?.container,...l},role:"tooltip"},typeof n=="function"?n():n)},T={shiftX:64,adjustY:1},A={adjustX:1,shiftY:!0},C=[0,0],ie={left:{points:["cr","cl"],overflow:A,offset:[-4,0],targetOffset:C},right:{points:["cl","cr"],overflow:A,offset:[4,0],targetOffset:C},top:{points:["bc","tc"],overflow:T,offset:[0,-4],targetOffset:C},bottom:{points:["tc","bc"],overflow:T,offset:[0,4],targetOffset:C},topLeft:{points:["bl","tl"],overflow:T,offset:[0,-4],targetOffset:C},leftTop:{points:["tr","tl"],overflow:A,offset:[-4,0],targetOffset:C},topRight:{points:["br","tr"],overflow:T,offset:[0,-4],targetOffset:C},rightTop:{points:["tl","tr"],overflow:A,offset:[4,0],targetOffset:C},bottomRight:{points:["tr","br"],overflow:T,offset:[0,4],targetOffset:C},rightBottom:{points:["bl","br"],overflow:A,offset:[4,0],targetOffset:C},bottomLeft:{points:["tl","bl"],overflow:T,offset:[0,4],targetOffset:C},leftBottom:{points:["br","bl"],overflow:A,offset:[-4,0],targetOffset:C}};function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},Z.apply(this,arguments)}const le=m.forwardRef((e,n)=>{const{trigger:o=["hover"],mouseEnterDelay:t=0,mouseLeaveDelay:a=.1,prefixCls:s="rc-tooltip",children:r,onVisibleChange:l,afterVisibleChange:c,motion:p,placement:i="right",align:d={},destroyOnHidden:f=!1,defaultVisible:y,getTooltipContainer:v,arrowContent:u,overlay:h,id:$,showArrow:g=!0,classNames:w,styles:b,...S}=e,x=kt($),M=m.useRef(null);m.useImperativeHandle(n,()=>M.current);const _={...S};"visible"in e&&(_.popupVisible=e.visible);const q=m.useMemo(()=>{if(!g)return!1;const R=g===!0?{}:g;return{...R,className:P(R.className,w?.arrow),style:{...R.style,...b?.arrow},content:R.content??u}},[g,w?.arrow,b?.arrow,u]),k=({open:R})=>{const z=m.Children.only(r),N={"aria-describedby":h&&R?x:void 0};return m.cloneElement(z,N)};return m.createElement(oe,Z({popupClassName:w?.root,prefixCls:s,popup:m.createElement(pt,{key:"content",prefixCls:s,id:x,classNames:w,styles:b},h),action:o,builtinPlacements:ie,popupPlacement:i,ref:M,popupAlign:d,getPopupContainer:v,onOpenChange:l,afterOpenChange:c,popupMotion:p,defaultPopupVisible:y,autoDestroy:f,mouseLeaveDelay:a,popupStyle:b?.root,mouseEnterDelay:t,arrow:q,uniqueContainerClassName:w?.uniqueContainer,uniqueContainerStyle:b?.uniqueContainer},_),k)});function ce(e){const{sizePopupArrow:n,borderRadiusXS:o,borderRadiusOuter:t}=e,a=n/2,s=0,r=a,l=t*1/Math.sqrt(2),c=a-t*(1-1/Math.sqrt(2)),p=a-o*(1/Math.sqrt(2)),i=t*(Math.sqrt(2)-1)+o*(1/Math.sqrt(2)),d=2*a-p,f=i,y=2*a-l,v=c,u=2*a-s,h=r,$=a*Math.sqrt(2)+t*(Math.sqrt(2)-2),g=t*(Math.sqrt(2)-1),w=`polygon(${g}px 100%, 50% ${g}px, ${2*a-g}px 100%, ${g}px 100%)`,b=`path('M ${s} ${r} A ${t} ${t} 0 0 0 ${l} ${c} L ${p} ${i} A ${o} ${o} 0 0 1 ${d} ${f} L ${y} ${v} A ${t} ${t} 0 0 0 ${u} ${h} Z')`;return{arrowShadowWidth:$,arrowPath:b,arrowPolygon:w}}const pe=(e,n,o)=>{const{sizePopupArrow:t,arrowPolygon:a,arrowPath:s,arrowShadowWidth:r,borderRadiusXS:l,calc:c}=e;return{pointerEvents:"none",width:t,height:t,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:t,height:c(t).div(2).equal(),background:n,clipPath:{_multi_value_:!0,value:[a,s]},content:'""'},"&::after":{content:'""',position:"absolute",width:r,height:r,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${I(l)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:o,zIndex:0,background:"transparent"}}},ft=8;function mt(e){const{contentRadius:n,limitVerticalRadius:o}=e,t=n>12?n+2:12;return{arrowOffsetHorizontal:t,arrowOffsetVertical:o?ft:t}}function j(e,n){return e?n:{}}const fe=(e,n,o)=>{const{componentCls:t,boxShadowPopoverArrow:a,arrowOffsetVertical:s,arrowOffsetHorizontal:r,antCls:l}=e,[c]=G(l,"tooltip"),{arrowDistance:p=0,arrowPlacement:i={left:!0,right:!0,top:!0,bottom:!0}}=o||{};return{[t]:{[`${t}-arrow`]:[{position:"absolute",zIndex:1,display:"block",...pe(e,n,a),"&:before":{background:n}}],...j(!!i.top,{[[`&-placement-top > ${t}-arrow`,`&-placement-topLeft > ${t}-arrow`,`&-placement-topRight > ${t}-arrow`].join(",")]:{bottom:p,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{[c("arrow-offset-horizontal")]:r,[`> ${t}-arrow`]:{left:{_skip_check_:!0,value:r}}},"&-placement-topRight":{[c("arrow-offset-horizontal")]:`calc(100% - ${I(r)})`,[`> ${t}-arrow`]:{right:{_skip_check_:!0,value:r}}}}),...j(!!i.bottom,{[[`&-placement-bottom > ${t}-arrow`,`&-placement-bottomLeft > ${t}-arrow`,`&-placement-bottomRight > ${t}-arrow`].join(",")]:{top:p,transform:"translateY(-100%)"},[`&-placement-bottom > ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{[c("arrow-offset-horizontal")]:r,[`> ${t}-arrow`]:{left:{_skip_check_:!0,value:r}}},"&-placement-bottomRight":{[c("arrow-offset-horizontal")]:`calc(100% - ${I(r)})`,[`> ${t}-arrow`]:{right:{_skip_check_:!0,value:r}}}}),...j(!!i.left,{[[`&-placement-left > ${t}-arrow`,`&-placement-leftTop > ${t}-arrow`,`&-placement-leftBottom > ${t}-arrow`].join(",")]:{right:{_skip_check_:!0,value:p},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${t}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${t}-arrow`]:{top:s},[`&-placement-leftBottom > ${t}-arrow`]:{bottom:s}}),...j(!!i.right,{[[`&-placement-right > ${t}-arrow`,`&-placement-rightTop > ${t}-arrow`,`&-placement-rightBottom > ${t}-arrow`].join(",")]:{left:{_skip_check_:!0,value:p},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${t}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${t}-arrow`]:{top:s},[`&-placement-rightBottom > ${t}-arrow`]:{bottom:s}})}}};function me(e,n,o,t){if(t===!1)return{adjustX:!1,adjustY:!1};const a=t&&typeof t=="object"?t:{},s={};switch(e){case"top":case"bottom":s.shiftX=n.arrowOffsetHorizontal*2+o,s.shiftY=!0,s.adjustY=!0;break;case"left":case"right":s.shiftY=n.arrowOffsetVertical*2+o,s.shiftX=!0,s.adjustX=!0;break}const r={...s,...a};return r.shiftX||(r.adjustX=!0),r.shiftY||(r.adjustY=!0),r}const at={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},ue={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},de=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function ge(e){const{arrowWidth:n,autoAdjustOverflow:o,arrowPointAtCenter:t,offset:a,borderRadius:s,visibleFirst:r}=e,l=n/2,c={},p=mt({contentRadius:s,limitVerticalRadius:!0});return Object.keys(at).forEach(i=>{const f={...t&&ue[i]||at[i],offset:[0,0],dynamicInset:!0};switch(c[i]=f,de.has(i)&&(f.autoArrow=!1),i){case"top":case"topLeft":case"topRight":f.offset[1]=-l-a;break;case"bottom":case"bottomLeft":case"bottomRight":f.offset[1]=l+a;break;case"left":case"leftTop":case"leftBottom":f.offset[0]=-l-a;break;case"right":case"rightTop":case"rightBottom":f.offset[0]=l+a;break}if(t)switch(i){case"topLeft":case"bottomLeft":f.offset[0]=-p.arrowOffsetHorizontal-l;break;case"topRight":case"bottomRight":f.offset[0]=p.arrowOffsetHorizontal+l;break;case"leftTop":case"rightTop":f.offset[1]=-p.arrowOffsetHorizontal*2+l;break;case"leftBottom":case"rightBottom":f.offset[1]=p.arrowOffsetHorizontal*2-l;break}f.overflow=me(i,p,n,o),r&&(f.htmlRegion="visibleFirst")}),c}const he=(e,n)=>{const o=t=>typeof t=="boolean"?{show:t}:t||{};return Vt.useMemo(()=>{const t=o(e),a=o(n);return{...a,...t,show:t.show??a.show??!0}},[e,n])},st="50%",we=e=>{const{calc:n,componentCls:o,tooltipMaxWidth:t,tooltipColor:a,tooltipBg:s,tooltipBorderRadius:r,zIndexPopup:l,controlHeight:c,boxShadowSecondary:p,paddingSM:i,paddingXS:d,arrowOffsetHorizontal:f,sizePopupArrow:y,antCls:v}=e,[u,h]=G(v,"tooltip"),$=n(r).add(y).add(f).equal(),w={minWidth:n(r).mul(2).add(y).equal(),minHeight:c,padding:`${I(e.calc(i).div(2).equal())} ${I(d)}`,color:h("overlay-color",a),textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:s,borderRadius:r,boxShadow:p,boxSizing:"border-box"},b={[u("valid-offset-x")]:h("arrow-offset-horizontal","var(--arrow-x)"),transformOrigin:[h("valid-offset-x",st),`var(--arrow-y, ${st})`].join(" ")};return[{[o]:{...Ht(e),position:"absolute",zIndex:l,display:"block",width:"max-content",maxWidth:t,visibility:"visible",...b,"&-hidden":{display:"none"},[u("arrow-background-color")]:s,[`${o}-container`]:[w,Dt(e,!0)],[`&:has(~ ${o}-unique-container)`]:{[`${o}-container`]:{border:"none",background:"transparent",boxShadow:"none"}},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:$},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${o}-inner`]:{borderRadius:e.min(r,ft)}},[`${o}-content`]:{position:"relative"},...ne(e,(S,{darkColor:x})=>({[`&${o}-${S}`]:{[`${o}-container`]:{backgroundColor:x},[`${o}-arrow`]:{[u("arrow-background-color")]:x}}})),"&-rtl":{direction:"rtl"}}},fe(e,h("arrow-background-color")),{[`${o}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}},{[`${o}-unique-container`]:{...w,...b,position:"absolute",zIndex:n(l).sub(1).equal(),"&-hidden":{display:"none"},"&-visible":{transition:`all ${e.motionDurationSlow}`}}}]},be=e=>({zIndexPopup:e.zIndexPopupBase+70,maxWidth:250,...mt({contentRadius:e.borderRadius,limitVerticalRadius:!0}),...ce(it(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))}),ut=(e,n,o=!0)=>Wt("Tooltip",a=>{const{borderRadius:s,colorTextLightSolid:r,colorBgSpotlight:l,maxWidth:c}=a,p=it(a,{tooltipMaxWidth:c,tooltipColor:r,tooltipBorderRadius:s,tooltipBg:l});return[we(p),Xt(a,"zoom-big-fast")]},be,{resetStyle:!1,injectStyle:o})(e,n),dt=(e,n,o)=>{const t=ae(o),[a]=G(e,"tooltip"),s=P({[`${n}-${o}`]:o&&t}),r={},l={},c=se(o).toRgb(),i=(.299*c.r+.587*c.g+.114*c.b)/255<.5?"#FFF":"#000";return o&&!t&&(r.background=o,r[a("overlay-color")]=i,l[a("arrow-background-color")]=o),{className:s,overlayStyle:r,arrowStyle:l}},Ce=e=>{const{prefixCls:n,className:o,placement:t="top",title:a,color:s,overlayInnerStyle:r,classNames:l,styles:c}=e,{getPrefixCls:p}=m.useContext(Yt),i=p("tooltip",n),d=p(),f=ct(i),[y,v]=ut(i,f),u=dt(d,i,s),h=u.arrowStyle,$=m.useMemo(()=>({container:{...r,...u.overlayStyle}}),[r,u.overlayStyle]),g={...e,placement:t},[w,b]=lt([l],[$,c],{props:g}),S=P(f,y,v,i,`${i}-pure`,`${i}-placement-${t}`,o,u.className);return m.createElement("div",{className:S,style:h},m.createElement("div",{className:`${i}-arrow`}),m.createElement(pt,{...e,className:y,prefixCls:i,classNames:w,styles:b},a))},ye=m.forwardRef((e,n)=>{const{prefixCls:o,openClassName:t,getTooltipContainer:a,color:s,children:r,afterOpenChange:l,arrow:c,destroyTooltipOnHide:p,destroyOnHidden:i,title:d,overlay:f,trigger:y,builtinPlacements:v,autoAdjustOverflow:u=!0,motion:h,getPopupContainer:$,placement:g="top",mouseEnterDelay:w=.1,mouseLeaveDelay:b=.1,rootClassName:S,styles:x,classNames:M,onOpenChange:_,overlayInnerStyle:q,overlayStyle:k,overlayClassName:R,...z}=e,[,N]=Ut(),{getPopupContainer:ht,getPrefixCls:K,direction:wt,className:bt,style:Ct,classNames:yt,styles:vt,arrow:$t,trigger:xt}=Zt("tooltip"),V=he(c,$t),W=V.show,J=y||xt||"hover",E=m.useRef(null),Rt=()=>{E.current?.forceAlign()};m.useImperativeHandle(n,()=>({forceAlign:Rt,nativeElement:E.current?.nativeElement,popupElement:E.current?.popupElement}));const[Pt,St]=re(e.defaultOpen??!1,e.open),X=!d&&!f&&d!==0,Ot=rt=>{St(X?!1:rt),!X&&_&&_(rt)},Nt=m.useMemo(()=>v||ge({arrowPointAtCenter:V?.pointAtCenter??!1,autoAdjustOverflow:u,arrowWidth:W?N.sizePopupArrow:0,borderRadius:N.borderRadius,offset:N.marginXXS,visibleFirst:!0}),[V,v,N,W,u]),D=m.useMemo(()=>d===0?d:f||d||"",[f,d]),Tt=m.createElement(Gt,{space:!0,form:!0},typeof D=="function"?D():D),At={...e,trigger:J,color:s,placement:g,builtinPlacements:v,openClassName:t,arrow:c,autoAdjustOverflow:u,getPopupContainer:$,children:r,destroyTooltipOnHide:p,destroyOnHidden:i},[L,H]=lt([yt,M],[vt,x],{props:At}),O=K("tooltip",o),Q=K(),_t=e["data-popover-inject"];let Y=Pt;!("open"in e)&&X&&(Y=!1);const F=m.isValidElement(r)&&!Kt(r)?r:m.createElement("span",null,r),B=F.props,It=!B.className||typeof B.className=="string"?P(B.className,t||`${O}-open`):B.className,tt=ct(O),[Mt,zt]=ut(O,tt,!_t),U=dt(Q,O,s),Et=U.arrowStyle,et=P(tt,Mt,zt),Lt=P(R,{[`${O}-rtl`]:wt==="rtl"},U.className,S,et,bt,L.root),[Bt,jt]=Jt("Tooltip",z.zIndex),ot={...H.container,...q,...U.overlayStyle},qt=m.createElement(le,{unique:!0,...z,trigger:J,zIndex:Bt,showArrow:W,placement:g,mouseEnterDelay:w,mouseLeaveDelay:b,prefixCls:O,classNames:{root:Lt,container:L.container,arrow:L.arrow,uniqueContainer:P(et,L.container)},styles:{root:{...Et,...H.root,...Ct,...k},container:ot,uniqueContainer:ot,arrow:H.arrow},getTooltipContainer:$||a||ht,ref:E,builtinPlacements:Nt,overlay:Tt,visible:Y,onVisibleChange:Ot,afterVisibleChange:l,arrowContent:m.createElement("span",{className:`${O}-arrow-content`}),motion:{motionName:Qt(Q,"zoom-big-fast",typeof h?.motionName=="string"?h?.motionName:void 0),motionDeadline:1e3},destroyOnHidden:i??!!p},Y?te(F,{className:It}):F);return m.createElement(ee.Provider,{value:jt},qt)}),gt=ye;gt._InternalPanelDoNotUseOrYouWillBeFired=Ce;gt.UniqueProvider=Ft;export{gt as T,fe as a,ce as b,mt as c,ge as d,Pe as g};
